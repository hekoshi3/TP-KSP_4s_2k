<!-- templates/profile.html -->

<!DOCTYPE html>
<html>
<head>
    <title>Profile</title>
</head>
<body>
    <h1>Welcome, {{ user.username }}</h1>
    <p>This is your profile page.</p>
    {% if user.image %}
        <img src="{{ user.image.url }}" alt="Profile Image">
    {% else %}
        <p>No profile image available.</p>
    {% endif %}

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Update Profile</button>
    </form>

    <table>
        <thead>
            <tr>
                <th>Prompt</th>
                <th>Negative Prompt</th>
                <th>Width</th>
                <th>Height</th>
                <th>Seed</th>
                <th>Image</th>
            </tr>
        </thead>
        <tbody>
            {% for request in requests %}
                <tr>
                    <td>{{ request.prompt }}</td>
                    <td>{{ request.negative_prompt }}</td>
                    <td>{{ request.width }}</td>
                    <td>{{ request.height }}</td>
                    <td>{{ request.seed }}</td>
                    <td>
                        {% if request.image %}
                            <img src="{{ request.image.url }}" alt="Generated Image" style="max-width:100px;">
                        {% else %}
                            <p>No image available</p>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
